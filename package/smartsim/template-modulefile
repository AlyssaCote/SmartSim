#%Module######################################################################
#
# Copyright 2018 Cray Inc. All Rights Reserved.
#
# (c) Cray Inc.  All Rights Reserved.  Unpublished Proprietary
# Information.  This unpublished work is protected by trade secret,
# copyright and other laws.  Except as permitted by contract or
# express written permission of Cray Inc., no part of this work or
# its content may be used, reproduced or disclosed in any form.
#
#

###
# Replace all bracketed instances of product, product-version, and prefix
# with the proper values.  Prefix is typically /opt/cray/[product]/$level.
###
set level [product-version]
set curpath [prefix]

###
# Add your verbiage into ModulesHelp area. This information
# will be seen by those invoking 
#       module help [product]
###

proc ModulesHelp { } {
puts stderr "This modulefile defines the library paths and"
puts stderr "include paths needed to use "
puts stderr "[product]."
puts stderr ""
}

###
# [product] is the name consistently used in the modulefile.
# to set environment variables. It may be the same name as
# the modulefile and the rpm, however the modulefile and rpm
# will be named in a lower case name while [product] should
# be upper case, i.e.  "module load acml" and ACML_DIR.
###

set is_module_rm  [module-info mode remove]

###
# Set environment variable for other programs to find
# This is optional.
###
#setenv [product]_DIR $curpath


###
# Add your executable to PATH.
###

if { [file isdirectory $curpath/bin] == 1} { prepend-path PATH $curpath/bin }

###
# Add your dynamic library path.
# Using this not recommended except in case where the user wants to compile 
# against this library because it can alter the behavior of other
# programs besides this one.
# If a program has trouble finding its library dependencies, then
# using a wrapper script or RPATH is better.
###
if { [file isdirectory $curpath/lib] == 1} {
  prepend-path LD_LIBRARY_PATH $curpath/lib
  prepend-path LIBRARY_PATH $curpath/lib
  prepend-path CPATH $curpath/include
}
prepend-path PYTHONPATH $curpath

###
# pkg-config
###

if { [file isdirectory $curpath/lib/pkgconfig] == 1} {
  prepend-path PKG_CONFIG_PATH $curpath/lib/pkgconfig
}

###
# Add MANPATH and INFOPATH
###
if { [file isdirectory $curpath/info] == 1} {
 prepend-path INFOPATH $curpath/info
}

if { [file isdirectory $curpath/man] == 1} {
 prepend-path MANPATH $curpath/man
}