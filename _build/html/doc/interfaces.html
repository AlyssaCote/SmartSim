

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Interfaces &mdash; SmartSim 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Generation" href="generate.html" />
    <link rel="prev" title="SmartSim" href="../index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> SmartSim
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">General</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Interfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#toml-interface">TOML Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#python-interface">Python Interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="generate.html">Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulate.html">Simulation Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">Developer</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/cp2k.html">Ensembling CP2K Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/online-training.html">Use Machine Learning In Simulation</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/state.html">State</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/simModule.html">SmartSimModule</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/generator.html">Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/controller.html">Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/client.html">Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/utilities.html">Utilities</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SmartSim</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Interfaces</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/doc/interfaces.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="interfaces">
<h1>Interfaces<a class="headerlink" href="#interfaces" title="Permalink to this headline">¶</a></h1>
<div class="section" id="toml-interface">
<h2>TOML Interface<a class="headerlink" href="#toml-interface" title="Permalink to this headline">¶</a></h2>
<p>First, the toml interface allows the user to keep all configurations within a
single file and run end to end experiments with under 10 lines of python. The
toml interace is recommended for users who need greater control over the specific
model settings or need to reproduce those settings accross multiple machines.</p>
<div class="highlight-TOML notranslate"><div class="highlight"><pre><span></span><span class="k">[model]</span>
<span class="n">name</span> <span class="o">=</span> <span class="s">&quot;LAMMPS&quot;</span>                  <span class="c1"># name of simulation model</span>
<span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;atm&quot;</span><span class="p">,</span> <span class="s">&quot;atm-2&quot;</span><span class="p">]</span>       <span class="c1"># target names</span>
<span class="n">model_files</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;LAMMPS/in.atm&quot;</span><span class="p">]</span>  <span class="c1"># model configuration file or directory</span>
<span class="n">experiment</span> <span class="o">=</span> <span class="s">&quot;lammps_atm&quot;</span>        <span class="c1"># experiment name</span>

<span class="p">[</span><span class="n">atm</span><span class="p">]</span>                            <span class="c1"># first target</span>
   <span class="p">[</span><span class="n">atm</span><span class="p">.</span><span class="n">steps</span><span class="p">]</span>                   <span class="c1"># name of configuration change</span>
   <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">]</span>              <span class="c1"># desired configuration values</span>

<span class="p">[</span><span class="n">atm-2</span><span class="p">]</span>                          <span class="c1"># second target</span>
   <span class="p">[</span><span class="n">atm-2</span><span class="p">.</span><span class="n">steps</span><span class="p">]</span>                 <span class="c1"># name of configuration change</span>
   <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">35</span><span class="p">]</span>              <span class="c1"># desired configuration values</span>
</pre></div>
</div>
<p>The toml file above is setting up an experiment. This particular experiment is running
a particle simulation model named <code class="docutils literal notranslate"><span class="pre">LAMMPS</span></code>. The model configuration file, <code class="docutils literal notranslate"><span class="pre">in.atm</span></code>
specify LAMMPS to run a Axilrod-Teller-Muto (ATM) potential calculation. Two targets
are defined, <code class="docutils literal notranslate"><span class="pre">atm</span></code> and <code class="docutils literal notranslate"><span class="pre">atm-2</span></code>. Each target will have two models that will each
change a single configuration (the number of steps) twice.</p>
<p>To generate the models for this experiment (without running them) a short python snippet
is required that can easily be run inside of a ipython shell or a jupyter notebook.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">smartsim</span> <span class="kn">import</span> <span class="n">Generator</span><span class="p">,</span> <span class="n">State</span>

<span class="n">STATE</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="s2">&quot;/LAMMPS/simulation.toml&quot;</span><span class="p">,</span> <span class="n">log_level</span><span class="o">=</span><span class="s2">&quot;DEBUG&quot;</span><span class="p">)</span>

<span class="c1"># Data Generation Phase</span>
<span class="n">GEN</span> <span class="o">=</span> <span class="n">Generator</span><span class="p">(</span><span class="n">STATE</span><span class="p">)</span>
<span class="n">GEN</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
</pre></div>
</div>
<dl class="simple">
<dt>In the script above, we do three things</dt><dd><ul class="simple">
<li><p>import smartsim.State and smartsim.Generator</p></li>
<li><p>Define the State instance and provide the <code class="docutils literal notranslate"><span class="pre">simulation.toml</span></code> written above,
and set the log level</p></li>
<li><p>Instantate the generator module, and call Generator.generate()</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="python-interface">
<h2>Python Interface<a class="headerlink" href="#python-interface" title="Permalink to this headline">¶</a></h2>
<p>The second interface that provides the same functionality is through Python. The
programmatic python interface is recommended for users who wish to use a piece(s)
of the SmartSim library within their own work.</p>
<p>The same experiment as the toml interface above can be achieved in a single script
as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># import needed smartsim modules</span>
<span class="kn">from</span> <span class="nn">smartsim</span> <span class="kn">import</span> <span class="n">Controller</span><span class="p">,</span> <span class="n">Generator</span><span class="p">,</span> <span class="n">State</span>

<span class="c1"># intialize state to conduct experiment</span>
<span class="n">state</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="n">experiment</span><span class="o">=</span><span class="s2">&quot;lammps_atm&quot;</span><span class="p">)</span>

<span class="c1"># Create targets</span>
<span class="n">param_dict_1</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;steps&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">]}</span>
<span class="n">param_dict_2</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;steps&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">35</span><span class="p">]}</span>
<span class="n">state</span><span class="o">.</span><span class="n">create_target</span><span class="p">(</span><span class="s2">&quot;atm&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">param_dict_1</span><span class="p">)</span>
<span class="n">state</span><span class="o">.</span><span class="n">create_target</span><span class="p">(</span><span class="s2">&quot;atm-2&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">param_dict_2</span><span class="p">)</span>

<span class="c1"># Supply the generator with necessary files to run the simulation</span>
<span class="c1"># and generate the specified models</span>
<span class="n">base_config</span> <span class="o">=</span> <span class="s2">&quot;LAMMPS/in.atm&quot;</span>
<span class="n">GEN</span> <span class="o">=</span> <span class="n">Generator</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">model_files</span><span class="o">=</span><span class="n">base_config</span><span class="p">)</span>
<span class="n">GEN</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="generate.html" class="btn btn-neutral float-right" title="Generation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral float-left" title="SmartSim" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Sam Partee

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>